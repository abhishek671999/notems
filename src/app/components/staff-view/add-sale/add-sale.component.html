<h3 style="text-align: center;">Add sale</h3>
<div class="main-container">
    <form class="new-task-form" [formGroup]="addSalesForm">
        <mat-form-field>
            <mat-label>Select customer</mat-label>
            <mat-select formControlName="customer_id" >
                <mat-option *ngFor="let customer of customerList; let i=index" [value]="customer.customer_id">{{customer.mobile}}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field >
            <mat-label>Enter discount</mat-label>
            <input matInput placeholder="Discount" formControlName="discount">
        </mat-form-field>
        <mat-form-field >
            <mat-label>Enter received amount</mat-label>
            <input matInput placeholder="Received amount" formControlName="received_amount">
        </mat-form-field>
        <mat-form-field >
            <mat-label>Enter a note</mat-label>
            <input matInput placeholder="Note" formControlName="note">
        </mat-form-field>
        <table mat-table [dataSource]="itemListsource">
            <ng-container matColumnDef="sl_no">
                <th mat-header-cell *matHeaderCellDef>Sl No.</th>
                <td mat-cell *matCellDef="let element; let i=index">{{i + 1}}</td>
              </ng-container>
            
              <ng-container matColumnDef="item_name">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let element">{{element.item_name}}</td>
              </ng-container>
              
              <ng-container matColumnDef="item_price">
                <th mat-header-cell *matHeaderCellDef>Price</th>
                <td mat-cell *matCellDef="let element">{{element.item_price}}</td>
              </ng-container>

              <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef>quantity</th>
                <td mat-cell *matCellDef="let element">
                    <div class="quantity-section">
                        <span (click)="subtractItem(element)" class="material-symbols-outlined">
                            do_not_disturb_on
                            </span>
                        <b>{{element.quantity}}</b>
    
                        <span (click)="addItem(element)" class="material-symbols-outlined">
                            add_circle
                            </span>
                    </div>
                </td>
              </ng-container>


              <tr mat-header-row *matHeaderRowDef="itemListColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: itemListColumns;"></tr>
        </table>
    </form>
    <br>
    <div style="text-align: center;">
        <button  mat-flat-button [disabled]="!(addSalesForm.valid && areItemsAdded())" (click)="addSales()">Add Sale</button>
    </div>
    <mat-divider></mat-divider>

</div>
